<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Puzzyl.net</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredericka+the+Great&family=Cherry+Bomb+One&family=Tilt+Prism&family=Rubik+Maze&family=Foldit&family=Henny+Penny&display=swap" rel="stylesheet">
    <script>
        var arts=[
            'cat_crossword',
            'elephant_puzzle',
            'fox_crossword',
            'macaws_puzzle',
            'octopus_puzzle',
            'panda_puzzle',
            'racoon_symbols',
            'snake_maze',
        ];

        var fonts=[
            'Cherry Bomb One',
            'Foldit',
            'Fredericka the Great',
            'Henny Penny',
            //'Rubik 80s Fade',
            'Rubik Maze',
            //'Srisakdi',
            'Tilt Prism',
        ]

        var colors=[
            'red',
            'yellow',
            'lime',
            'blue',
            'blueviolet'
        ]

        function onLoad() {
            if (relativeIndex()) {
                return;
            }

            var art = arts[Math.floor(Math.random() * arts.length)];
            var font = fonts[Math.floor(Math.random() * fonts.length)];
            var color = colors[Math.floor(Math.random() * colors.length)];

            var title = document.getElementById('title');
            title.style.fontFamily = '' + font;
            title.style.textShadow = '0 0 12px ' + color;
            //title.innerText = font;
            var image = document.getElementById('image');
            image.src = 'Art/' + art + '.png';
        }

        function relativeIndex() {
            var folders = window.location.pathname.toLowerCase().split('/');
            if (folders[0].length > 0) {
                return false;  // pre-root-level??? "X/Page" instead of "/X/Page"
            }
            if (folders.length <= 2) {
                return false;  // root-level page "/Page"
            }
            if (folders[folders.length - 1] == "index.html") {
                return false;  // that's where we already are
            }

            // Create a path to index.html in the same folder (except all lower-case)
            folders[folders.length - 1] = "index.html";
            var pathname = folders.join('/');

            // Redirect to index.html in the same folder (in 1 second)
            setTimeout(() => { window.location.href = `${window.location.protocol}//${window.location.host}${pathname}` }, 1000);
            return true;
        }

    </script>
    <style>
        #div {
            width: 10.5in;
            height: 10.5in;
            max-width: 100%;
            max-height: 80%;
        }
        #title {
            position: absolute;
            top: 0px;
            right: 0px;
            width: 50%;
        }
        #title span {
            font-size: 90pt;
        }
        #image {
            width: 10.5in;
            height: 10.5in;
            max-width: 100%;
            max-height: 100%;
        }
    </style>
</head>
<body onload="onLoad()">
    <div id="div" style="position: relative;">
        <img id="image">
        <p id="title"><span>Puzzyl.net</span></p>    
    </div>
</body>
</html>