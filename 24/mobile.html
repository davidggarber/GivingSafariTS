<html>
  <head>
    <title>Test input event handlers</title>
  
    <script>
      function setup() {
        var inputs = [
          document.getElementById('a'), document.getElementById('b')
        ];
        for (var inp of inputs) {
          // inp.onkeydown=function(e){append('down',e)};
          // inp.onkeyup=function(e){append('up',e)};
          // inp.onkeypress=function(e){append('press',e)};
          // inp.onchange=function(e){append('change',e)};
          inp.oninput=function(e){append('input',e)};
          // inp.onsubmit=function(e){append('submit',e)};
          // inp.onselectstart=function(e){append('sel-start',e)};
          // inp.onselect=function(e){append('sel',e)};
          // inp.onselectionchange=function(e){append('sel-change',e)};
        }
      }

      var index = 0;
      function append(id, evt) {
        var div = document.getElementById(id);
        var p = document.createElement('p');
        
        var info = [];
        info.push(`key: ${evt.key}`);
        info.push(`code: ${evt.code}`);
        info.push(`data: ${evt.data}`);
        info.push(`which: ${evt.which} == ${String.fromCharCode(evt.which)}`);
        info.push(`charCode: ${evt.charCode} == ${String.fromCharCode(evt.charCode)}`);
        info.push(`inputType: ${evt.inputType}`);
        info.push(`detail: ${evt.detail}`);
        info.push(`view: ${evt.view}`);
        info.push(`isComposing: ${evt.isComposing}`);
        p.innerHTML = `${++index}: ${info.join('<br>')}`;
        div.appendChild(p);

        // var pre = '';
        // var fields = Object.keys(evt);
        // for (var i = 0; i < fields.length; i++) {
        //   pre += fields[i] + ': ' + evt[fields[i]] + '\n';
        // }
        // document.getElementById('json').innerText = pre;
      }

    </script>
    <style>
      p {
        margin: 0px;
      }
      td { 
        padding-right: 10px;
      }
    </style>


  </head>

  <body onload="setup()">
    <p>
      <input id="a" type="text"> <input id="b" type="text">
    </p>

    <table>
      <tr>
        <th>key-down</th>
        <th>key-up</th>
        <th>key-press</th>
      </tr>
      <tr>
        <td id="down"></td>
        <td id="up"></td>
        <td id="press"></td>
      </tr>
      <tr>
        <th>change</th>
        <th>input</th>
        <th>submit</th>
      </tr>
      <tr>
        <td id="change"></td>
        <td id="input"></td>
        <td id="submit"></td>
      </tr>
      <tr>
        <th>sel-start</th>
        <th>select</th>
        <th>sel-change</th>
      </tr>
      <tr>
        <td id="sel-start"></td>
        <td id="sel"></td>
        <td id="sel-change"></td>
      </tr>

    </table>

    <pre id="json"></pre>


  </body>


</html>