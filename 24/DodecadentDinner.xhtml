<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="UTF-8"></meta>
    <script> var exports = {}; </script>
    <script src="../js/kit24.js"></script>
    <script src="V/dod.js"></script>
    <script>
      const boiler = {
        safari: 'gs24',
        title: 'Dodecadent Dinner',
        author: 'David Garber',
        copyright: '2021',
        type: 'math',
        abilities: {
          textInput: 'nearest',
          scratchPad: true,
        },
        reactiveBuilder: true,
        lookup: {
        },
      };

      var images = {
        a:'Dodec/Apple.png',
        c:'Dodec/Corn.png',
        e:'Dodec/Egg.png',
        g:'Dodec/Garlic.png',
        h:'Dodec/Hamburger.png',
        i:'Dodec/IceCream.png',
        m:'Dodec/Mushroom.png',
        o:'Dodec/Onion.png',
        p:'Dodec/Pineapple.png',
        r:'Dodec/Raspberry.png',
        s:'Dodec/Shrimp.png',
        t:'Dodec/Turkey.png',
        _:'Dodec/Blank.png',
      };
      var decoder = [
        ['a','m'],
        ['c','o'],
        ['e','p'],
        ['g','r'],
        ['h','s'],
        ['i','t'],
      ];

      boiler['lookup'] =
      {
        images: images,
        decoder: decoder,
      };

      function updateDecoder(input, key) {
        var val = input.value;
        var id = input.parentNode.id;
        var fruit = id.substring(3);
        var cls = 'fd_' + fruit;
        var spans = document.getElementsByClassName(cls);
        for (var s of spans) {
          s.innerText = val;
        }
      }

    </script>
    <style>
      #dodecoder {
        position: absolute;
        right: 0.5in;
        top: 2.25in;
        border: solid 1px #bbb;
        border-spacing: 0px;
      }
      #dodecoder tr:nth-child(even) {
        background-color: #ededed;
      }
      #dodecoder th {
        background-color: #A5A5A5;
        color: white;
        font-weight: bold;
      }
      #dodecoder td {
        vertical-align: middle;
        font-size: 12pt;
        border: solid 0.5px #bbb;
      }
      #dodecoder img {
        height: 0.5in;
        vertical-align: middle;
      }
      #dodecoder .letter-cell {
        height: 0.5in;
        width: 0.5in;
        font-size: 28pt;
        vertical-align: middle;
      }
      .fruitDigit {
        position: relative;
      }
      .big-food img {
        height: 0.5in;
      }
      .small-food img {
        height: 0.3in;
      }
      .big-food .overlay {
        position: absolute;
        bottom: 10px;
        left: 10px;
        font-size: 18pt;
        color: #cff;
        text-shadow: 0 0 3px black;
      }
      .small-food .overlay {
        position: absolute;
        bottom: 4px;
        left: 4px;
        font-size: 15pt;
        color: #cff;
        text-shadow: 0 0 3px black;
      }
      #given {
        margin-top: 0.1in;
      }
      #given td {
        vertical-align: middle;
        font-size: 12pt;
      }
      #solving {
        position: absolute;
        top: 1.5in;
        left: 0px;
        width: 4in;
        text-align: right;
      }
      #whatIs {
        position: absolute;
        top: 7.3in;
        left: 0px;
        width: 6.75in;
        text-align: right;
      }
      #whatIs .letter-cell {
        height: 0.5in;
        width: 0.365in;
        font-size: 28pt;
      }
      .operator {
        position: absolute;
        font-size: 24pt;
      }
      #solving .operator {
        left: 140px;
      }
      .line {
        display: inline-block;
        padding-top: 5px;
        padding-bottom: 5px;
      }
      .underline {
        display: inline-block;
        padding-top: 5px;
        padding-bottom: 5px;
        border-bottom: solid 1px black;
      }
      .double {
        border-bottom: double 2.5px black;
      }
    </style>
  </head>
  <body id="DodecadentDinner">
    <div id="pageBody">
      <build>
        <ttable id="dodecoder" data-input-style="none">
          <ttr>
            <th_ colspan="2">(Do-)decoder key:</th_>
          </ttr>
          <for each="row" in="decoder">
            <ttr>
              <ttd>
                <img ssrc="{images.[row.0]}" /> =
                <letters id="dd_{row.0}" class="multiple-letter" data-onchange="updateDecoder"></letters>
              </ttd>
              <ttd>
                <img ssrc="{images.[row.1]}" /> =
                <letters id="dd_{row.1}" class="multiple-letter" data-onchange="updateDecoder"></letters>
              </ttd>
            </ttr>
          </for>
          <ttr>
            <ttd colspan="2" style="text-align: center; font-size: 9pt;">Each food maps to a <b>unique</b> digit.</ttd>
          </ttr>
        </ttable>
      </build>

      <table id="given" class="small-food">
        <tr>
          <td style="width: 1in;">Given:</td>
          <td style="width: 1.5in; text-align: right;">
            <span class="line"><use template="fruitDigits" sequence="grt"></use></span><br />
            <span class="underline"><use template="operator" op="−"></use><use template="fruitDigits" sequence="__trg"></use></span><br />
            <span class="line"><use template="fruitDigits" sequence="tmi"></use></span>    
          </td>
          <td style="width: 1.5in; text-align: center;">and</td>
          <td style="width: 1.5in; text-align: right;">
            <span class="line"><use template="fruitDigits" sequence="tmi"></use></span><br />
            <span class="underline"><use template="operator" op="+"></use><use template="fruitDigits" sequence="__imt"></use></span><br />
            <span class="line"><use template="fruitDigits" sequence="aeom"></use></span>    
          </td>
        </tr>
      </table>

      <div id="solving" class="small-food">
        <p style="text-align: left; font-size: 12pt;">And solving this long division:</p>
        <span class="underline"><use template="fruitDigits" sequence="___aarheo"></use></span><br />
        <span class="line"><use template="fruitDigits" sequence="tma__cchsteto"></use></span><br />
        <use template="operator" op="−"></use><span class="underline"><use template="fruitDigits" sequence="tma"></use></span><span class="line"><use template="fruitDigits" sequence="_____"></use></span><br />
        <span class="line"><use template="fruitDigits" sequence="srsteto"></use></span><br />
        <use template="operator" op="−"></use><span class="underline"><use template="fruitDigits" sequence="tma"></use></span><span class="line"><use template="fruitDigits" sequence="____"></use></span><br />
        <span class="line"><use template="fruitDigits" sequence="ahcteto"></use></span><br />
        <use template="operator" op="−"></use><span class="underline"><use template="fruitDigits" sequence="agrr"></use></span><span class="line"><use template="fruitDigits" sequence="___"></use></span><br />
        <span class="line"><use template="fruitDigits" sequence="appeto"></use></span><br />
        <use template="operator" op="−"></use><span class="underline"><use template="fruitDigits" sequence="apgh"></use></span><span class="line"><use template="fruitDigits" sequence="__"></use></span><br />
        <span class="line"><use template="fruitDigits" sequence="tgto"></use></span><br />
        <use template="operator" op="−"></use><span class="double underline"><use template="fruitDigits" sequence="tgto"></use></span><br />
        <svg width="15" height="40" style="position:absolute; top: 92.5px; left:163px">
          <ellipse cx="-30" cy="20" rx="40" ry="40" fill="none" stroke="black" stroke-width="1"></ellipse>
        </svg>
      </div>

      <build>
        <div id="whatIs" data-input-style="underline">
          <p style="position: absolute; left:0px; top: 0.3in; font-size: 12pt;">What is:</p>
          <span class="big-food"><use template="fruitDigits" sequence="rephotograph"></use></span><br />
          <span class="big-food" style="border-bottom: solid 1px black;"><use template="operator" op="+"></use><use template="fruitDigits" sequence="_tprhethpaeti"></use></span><br />
          <p style="position: absolute; top: 1in; left:1.8in; width: 7.5in; text-align: left;">
            <pattern id="answer" pattern="12" class="no-print" data-show-ready="submit-answer" />
            <button class="validater" id="submit-answer" data-extracted-id="answer">Submit</button>
          </p>
        </div>
      </build>

      <template id="fruitDigits">
        <for char="ch" in="sequence"><span class="fruitDigit"><img ssrc="{images.[ch]}" /><span class="overlay fd_{ch}"></span></span></for>
      </template>

      <template id="operator">
        <span class="operator">{op}</span>
      </template>

    </div>
  </body>
</html>
