<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"></meta>
    <script> var exports = {}; </script>
    <script src="../js/kit23.js"></script>
    <script>
      const boiler = {
        'safari': '20',
        'title': 'Entomology Lab',
        'print_qr': true,
        'author': 'Peter Golde',
        'copyright': '2020',
        'type': 'Word',
        'abilities': {
          'wordSearch': true
        },
        "validation":{"final-answer":{
          "UNAXCLZ":"1|4GZFO_GveERr.ugzy^n zrgn cvrpr sbe Gur Zntvp Fpubby Ohf|5GZFO_GveERr.ugzy",
          "QEUNAXCLZ":"1|4GZFO_GveERr.ugzy^n zrgn cvrpr sbe Gur Zntvp Fpubby Ohf|5GZFO_GveERr.ugzy",
          "CNHYEHQQ":"3Jr ner abg ybbxvat sbe npgbef. Xrrc tbvat.",
          "ZVPUNRYQBHTYNF":"3Jr ner abg ybbxvat sbe npgbef. Xrrc tbvat.",
          "JUBVFSVEFGNAGZNA":"3"}},
        'tableBuilder': {
          'rootId': 'grid-root',
          'data': [
            'ickeettuwajwo',
            'rLhtrolBkcitl',
            'Caylfeiseggol',
            'ydfmitvetasYe',
            'bTertiuerMitn',
            'ugilfhrWeppoa',
            'CocyrcFsasshm',
            'adkroaedrying',
            'taciCareGaDra',
            'MitoalnptrPmg',
            'ourpilHiylfno',
            'sqeenrothpAap',
            'CattnCenidWas',
        ],
          'onCell': buildCell
        }
      };

      function buildCell(val, x, y) {
        // All letters are actually capitalized
        var cap = val.toUpperCase();
        var g = constructSvgTextCell(cap, x * 48, y * 48);
        // But letters capitalized in the builder data are also circled.
        if (val == cap) {
          // <ellipse class="circle" cx="24" cy="24" rx="20" ry="20"></ellipse>
          var circ = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
          circ.setAttributeNS('', 'cx', 24);
          circ.setAttributeNS('', 'cy', 24);
          circ.setAttributeNS('', 'rx', 20);
          circ.setAttributeNS('', 'ry', 20);
          circ.classList.add('circle');
          g.appendChild(circ);
        }
        return g;
      }
    </script>
    <style>
      #crossword {
        user-select: none; 
        -webkit-user-select: none; /* Safari */        
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+/Edge */
      }
      #border {
        stroke: black;
        stroke-width: 1.5px;
        fill: none;
      }
      .vertex-g text {
        transform: translate(24px, 32px);
        font-size: 18pt;
        text-anchor: middle;
        cursor: pointer;
      }
      .vertex {
        fill: none;
        width: 48px;
        height: 48px;
        stroke: black;
        stroke-width: 0.5px;
        stroke-dasharray: 2 4;
      }
      .circle {
        fill: none;
        stroke: black;
        stroke-width: 1px;
      }
    </style>
  </head>
  <body>
    <div id="pageBody">
      <p class="flavor">
        Ugh! Creepy crawlies everywhere!
      </p>
      <p class="flavor">
        The entomologist has left her specimen jars open and they all crawled out onto the floor. They start at a
        circled letter, move up, down, left, and right, and never overlap. Once you have cleaned them all up, see
        what is left on the floor.
      </p>

      <svg id="crossword" width="720" height="720" class="word-select-area" data-max-points="30" data-hover-range="30" data-angle-constraints="90">
        <g class="word-select-container"></g>
        <g id="grid-root" transform="translate(48 48)">
          <rect id="border" width="624" height="624"></rect>
        </g>
      </svg>

      <div class="no-print" style="position:absolute; bottom: -0.5in; left: 2in;">
        Final answer: <input id="final-answer" class="extracted" type="text" style="width:2.5in; text-transform: uppercase;"></input>
        <button class="validater" id="submit-answer" data-extracted-id="final-answer">Submit</button>
      </div>

    </div>
  </body>
</html>
