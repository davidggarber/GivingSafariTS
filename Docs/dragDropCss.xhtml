<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="UTF-8"></meta>
    <script> var exports = {}; </script>
    <script src="../js/kit24.js"></script>
    <script>
      const boiler = {
        safari: 'Docs',
        title: 'Drag &amp; Drop in SVGs',
        paperSize: 'ledger',
        orientation: 'landscape',
        textInput: true,
        abilities: {
        },
        reactiveBuilder: 'pageBody'
      };

    </script>
    <script src="docs.js"></script>
    <link href="docs.css" rel="Stylesheet" type="text/css"></link>
    <style>
      #DragDropCss {
        .urgent {
          color: red;
          font-weight: bold;
        }
        table.readable {
          border-spacing: 8px;
        }
      }
    </style>
  </head>
  <body id="DragDropCss">
    <div id="pageBody">

      <p>Constructing pages</p>
      <table class="readable">
        <tr>
          <td><code>abilities: { dragDrop: '<i>id</i>' }</code></td>
          <td> where <i>id</i> is the ID of the &lt;svg&gt; that parents all drag/drop elements</td>
        </tr>
        <tr>
          <td>&lt;g class='moveable'&gt;</td>
          <td>The container of 1 or more elements that move together</td>
        </tr>
        <tr>
          <td>&lt;g class='transform-copy'
            <br/>&nbsp;&nbsp;&nbsp;&nbsp;transform-copy='[id of a source or target]'&gt;</td>
          <td>Identifies that this element's transformation is a copy of another element's
            <br/>At construction, the transform-copy attribute is followed to fetch the desired transform.
            <br/>When moved, it is updated.
            <br/>Note: the copied element isn't a parent. They usually live on separate layers.
          </td>
        </tr>
        <tr>
          <td>&lt;g class='drag-handle'&gt;</td>
          <td>Tag elements within the moveable collection which are capable of sticking to drop targets.
            <br/>When present, the relative translation from handle to main moveable is maintained when a handle lands somewhere.
          </td>
        </tr>
        <tr>
          <td>&lt;g class='drop-target'&gt;</td>
          <td>The container of elements that define a dropable region.<br />
            The transformation applied to this target will get applied to the moveable or a drag-handle.
          </td>
        </tr>
        <tr>
          <td>&lt;g class='drag-source'&gt;</td>
          <td>Similar to a drop-target, but defines a valid starting point.
            <br/>If one moveable is dropped on another, the underneath one will be evicted.
            <br/>It can return to its original drag source, or go to an arbitrary unoccupied one.
          </td>
        </tr>
      </table>

      <p>Free-drop</p>
      <ol>
        <li>Elements within an &lt;svg class='free-drop'&gt; can be dropped anywhere within that SVG</li>
        <li>Still label moveable elements as &lt;g class='moveable'&gt;</li>        
        <li>Don't need explicit drag-handle, drag-source, or drop-target elements</li>
      </ol>

      <p>Optional styles, for drag effects</p>
      <ol>
        <li>class='dragging'</li>
        <li>class='selection'</li>
        <li>class='droppable'</li>
        <li>class='hover' (on the target)</li>        
      </ol>

      <p>Future:</p>
      <ol>
        <li class="urgent">Storage</li>
        <li>Collision detection</li>
        <li>Extraction</li>
        <li>Free-drop with sticky edges</li>
      </ol>

    </div>

    <template id="code">
      <code ondblclick="selectCode(this, event)">{value}</code>
    </template>
    <template id="tag">
      <use template="code" value="&lt;{value}&gt;"></use>
    </template>

    <template id="link">
      <if exists="{tag?}">
        <a href="{tag}.xhtml">&lt;{tag}&gt;</a>        
      </if>
      <else>
        <a href="{page}.xhtml">{page}</a>
      </else>
      <if test="{wip?}"><img class="wip" src="Images/wip2.png" title="Work in progress" alt="Work in progress" /></if>
    </template>
  
  </body>
</html>