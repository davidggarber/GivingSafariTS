<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Giving Puzzle Safari 25: The Great Outdoors</title>
    <meta charset="UTF-8" />
    <script> var exports = {}; </script>
    <script src="../js/kit25.js" />
    <link href="map25.css" rel="Stylesheet" type="text/css" />
    <script src="puzzle_list.js" />
    <script src="index_utils.js" />
    <script src="menu.js" />
    <script>
      const boiler = {
        safaris: puzzleSafari22,
        safari: 'gs25',
        paperSize: 'minimalist',
        title: 'Giving Safari 25',
        titleSync: roundName(),
        abilities: {
          textInput: 'nearest',
        },
        postSetup: setupSolvables,
        reactiveBuilder: 'pageBody',
        lookup: {
          banner: 'GS25_banner.png',
          minRound: minRoundFromUrl(),
          maxRound: roundFromDate(),
          nextRound: timeToNextRound(),
          pdf: pdfForRound(),
          showMetas: showMetas(),
          showLegend: false,
          showForget: true,
          showRounds: showRounds(),
          showEmail: true,
          showCharity: true,
          puzzles: puzzles,
          urlArgs: _urlEventArguments,
          metas: metas,
          feeders: true,
          solvable: true,
          table_cols: 7,
          teammates: [],
          teamname: null,
          solves: {},
        },
      };
    </script>
    <style>
      #Menu #Login-bar {
        position: relative;
        left: 0px;
        top: 2px;
        font-size: 14pt;
        margin: 0px;
      }
      #Menu #Login-icon {
        height: 36px;
      }

      .spacer {
        width: 20%;
        min-width: 0px;
      }

      #meta-table {
        width: 5.5in;
      }
      #meta-table .html {
        width: 2in;
      }
      #puz-col-headers th {
        text-align: left;
        padding: 0px 5px;
      }

      #pre-event {
        font-weight: bold;
        font-style: italic;
        color: #385723;
      }
    </style>
  </head>
  <body id="Menu">
    <div id="pageBody">

      <ttable id="puz-table" class="table" style="border-collapse: collapse; width: 100%">
        <tthead id="puz-col-headers">
          <ttr style="text-align: center;">
            <th class="spacer">&nbsp;</th>
            <tth colspan="{table_cols}" class="title-font clickable" style="text-align: center; position: relative;">
              <img src="Images/giving-safari-2025.png" style="max-width:3in;"/>
            </tth>
            <th class="spacer">&nbsp;</th>
          </ttr>
          <ttr id="sortHeader">
            <th class="spacer">&nbsp;</th>
            <use template="sortableTH" text="" cls="presence" />
            <if test="{showRounds}">
              <use template="sortableTH" text="Round" cls="round" />
            </if>
            <use template="sortableTH" text="Type" cls="icons" />
            <use template="sortableTH" text="Puzzle" cls="author" />
            <if test="{feeders}">
              <use template="sortableTH" text="Feeder" cls="feeders" />
            </if>
            <use template="sortableTH" text="Author" cls="author" />
            <use template="sortableTH" text="Solved" cls="completed" />
            <th class="spacer">&nbsp;</th>
          </ttr>    
        </tthead>

        <ttbody id="puzzle_list">
          <for each="puz" in="puzzles">
            <if test="puz.group" ne="meta">
              <if test="puz.round" ge="{minRound}">
                <if test="puz.round" le="{maxRound}">
                  <ttr id="{puz.file}" name="{puz.title}" class="sortable">
                    <ttd class="spacer">&nbsp;</ttd>
                    <ttd class="presence"></ttd>
                    <if test="{showRounds}">
                      <ttd class="round">
                        {puz.round}
                      </ttd>
                    </if>
                    <ttd class="icons">
                      <if exists="{puz.icon}">
                        <img ssrc="Icons/{puz.icon}.png" />
                      </if>
                      <if notex="{puz.icon}">
                        <img ssrc="Icons/{puz.type.icon}.png" title="{puz.type.alt}" />
                      </if>
                    </ttd>
                    <ttd class="html">
                      <a class="hover" href="{puz.href}" target="_blank">
                        {puz.title}
                        <if exists="{puz.thumb}">
                          <img class="thumb" ssrc="Thumbs/{puz.thumb}.jpg" />
                        </if>
                      </a>
                    </ttd>
                    <if test="{feeders}">
                      <ttd class="feeders">
                        <for each="feed" in="{puz.feeder}">
                          <a class="feedLink {metas.[feed.meta].store}-{feed.number}" target="_blank" title="{metas.[feed.meta].title} - Materials #{feed.number} (locked)" trim="all">
                            <img ssrc="{metas.[feed.meta].icon}" /><sub>{feed.number + 1}</sub>
                          </a>
                        </for>  
                      </ttd>
                    </if>
                    <ttd class="authors">
                      {puz.author}
                    </ttd>
                    <ttd class="completed">
                      <span class="teammate-solves" xtrim="all">
                      </span>
                      <span class="checkmark" />
                    </ttd>
                    <ttd class="spacer">&nbsp;</ttd>
                  </ttr>
                </if>
              </if>
            </if>
          </for>
        </ttbody>
      </ttable>

      <if test="{pdf}" ne="">
        <p style="text-align: center;">
          If you want a printed copy, <a href="PDFs/{pdf}.pdf" target="_blank">this PDF</a> contains all puzzles so far.
        </p>
      </if>

      <if test="{showMetas}">
        <div style="text-align: center;">
          <use template="meta-template" />
        </div>
      </if>

      <div id="Welcome" style="position: relative; margin:auto">
        <h1 style="text-align: center;">Welcome to Giving Safari 2025!</h1>
        
        <p id="register">
          <span class="round-{maxRound}">If you have not yet, <a href="https://forms.cloud.microsoft/r/5FiKzTxQpg">please register</a>.</span>
          <br />This way, we can update you as puzzles are released.
        </p>

        <if test="{showRounds}">
          <p class="v-break">We have a new format this year! Instead of one large event, 
            <br />we have a rolling event in four rounds, spaced over the month.</p>
          <p>Each week, an additional collection of puzzles will be released.
            <if test="{nextRound}" ne="">
              <br />
              ‚è∞ The next round of puzzles will arrive <b>{nextRound}</b>.
            </if>
          </p>

          <if test="{maxRound}" lt="1">
            <p id="pre-event">Pre-event puzzles can be found on posters around campus.
              <br />Scan their QR codes to unlock them.</p>
          </if>
        </if>


        <p class="v-break">üí°Check out these <a href="Tips.xhtml" target="_blank">helpful tips</a> for features and quirks of this site.</p>

        <if test="{showEmail}">
          <p>ü•≥ This Giving Event is about having fun! If you really need
            <br />a hintüîç (or find a bugüêû), email
              <a href="mailto:givingps@microsoft.com" title="MSFT internal emails only">GivingPS&#x2009;@&#x2009;microsoft.com</a>.
          </p>
        </if>

        <p id="login-perks" class="v-break">
          <span class="not-logged-in">Log in to have your score tracked or to form a team.</span>
          <span class="yes-logged-in" style="font-weight: bold;">You are logged in as </span>
          <span id="Login-bar" />
        </p>
        <!--p id="team-login-perks">
          <span class="not-logged-in-team">If you join a team, you will be able to see each other's progress.</span>
          <span class="yes-logged-in-team">Teams see each other's presence (on left) and solves (right).</span>          
          <br />You won't see solutions, so you can still solve for yourself.
          <br />But if a puzzle unlocks meta materials, an unlock by anyone on the team will propogate to all.
        </p-->

        <div id="team-roster" />
      </div>

      <if test="{showCharity}">
        <use template="charity-shout" />
      </if>

      <p style="text-align: center;">
          <img ssrc="Images/{banner}" style="width: 3.75in;" />
      </p>

      <div id="iframe-loader" />

    </div>

    <template id="meta-template">
      <ttable id="meta-table" class="table" style="border-collapse: collapse; margin:auto">
        <ttfoot id="meta_list">
          <ttr>
            <tth class="clickable">&nbsp;</tth>
            <tth class="clickable">&nbsp;</tth>
            <tth class="html clickable" style="text-align: left;">Meta-Puzzles</tth>
            <tth class="author clickable" style="text-align: left;">Author</tth>
            <tth class="completed clickable">Solved</tth>
          </ttr>    
          <for each="puz" in="{puzzles}">
            <if test="puz.group" eq="meta">
              <if test="puz.round" ge="{minRound}">
                <if test="puz.round" le="{maxRound}">
                  <ttr id="{puz.file}" name="{puz.title}">
                    <ttd class="presence"></ttd>
                    <ttd class="icons">
                      <img ssrc="{metas.[puz.metaInfo].icon}"/>
                    </ttd>
                    <ttd class="html">
                      <a class="hover" href="{puz.href}" target="_blank">
                        {puz.title}
                        <if exists="{puz.thumb}">
                          <img class="thumb" ssrc="Thumbs/{puz.thumb}.jpg" />
                        </if>
                      </a>
                    </ttd>
                    <ttd class="authors">
                      {puz.author}
                    </ttd>
                    <ttd class="completed">
                      <span class="teammate-solves" xtrim="all">
                      </span>
                      <span class="checkmark" />
                    </ttd>
                  </ttr>
                  <ttr>
                    <ttd colspan="2">&nbsp;</ttd>
                    <ttd class="feeders">
                      <for int="num" until="4">
                        <a class="feedLink {metas.[puz.metaInfo].store}-{num}" target="_blank" title="Materials #{num+1} (locked)" trim="all">
                          <img ssrc="{metas.[puz.metaInfo].icon}" /><sub>{num+1}</sub>
                        </a>
                      </for>  
                    </ttd>
                    <ttd>
                      <if test="{showForget}">
                        <if exists="{puz.forget}">
                          <a href="{puz.forget}" target="_blank" style="font-size: smaller;">Forget materials</a>
                        </if>
                      </if>
                    </ttd>
                    <ttd class="completed" />
                  </ttr>
                </if>
              </if>
            </if>
          </for>
        </ttfoot>
      </ttable>

      <if test="{showForget}">
        <p>To reset local saved progress for all puzzles in this event, click <a href="Forget_all_progress.xhtml{urlArgs}">HERE</a>.</p>
      </if>      
      
    </template>

    <template id="sortableTH">
      <tth onclick="sortTable(this)" trim="all" class="clickable {?cls}">
        {text}
        <span class="ascArrow">‚Üì</span>
        <span class="descArrow">‚Üë</span>
      </tth>
    </template>

    <template id="teammate-list">
      <if exists="{teamname}">
        <p>The members of team <span class="teamname">{teamname}</span> include:</p>
      </if>
      <ttable id="teammates">
        <for each="mate" in="teammates">
          <ttr>
            <td class="avatar">{mate.Avatar}</td>
            <td class="playername">{mate.PlayerName}</td>
          </ttr>
        </for>
      </ttable>
    </template>

    <template id="teammate-solves" trim="all">
      <if exists="{solvers}">
        <for each="mate" in="{solvers}">
          <span class="teammate-solve" title="{mate.PlayerName}">{mate.Avatar}</span>
        </for>
      </if>
    </template>

    <template id="charity-shout">
      <div style="border:solid 2px blue; width: 5in; margin:auto; margin-top:0.5in; padding: 0px 0.25in; font-weight: bold; background-color: #ccf; border-radius: 10px; text-align: center;">
        <p>Our featured charity this year is <a href="https://www.rainierscholars.org/" target="_blank">Rainier Scholars</a>.
          <span style="position: relative;"><img src="Images/Rainier-Scholars.png" style="position:relative; display:inline-block; height:0.5in; top:10px;" /></span>
        </p>
        <p style="font-style: italic; font-weight: normal;">
          Supporting students most underrepresented on college campuses.
        </p>
        <p>Please donate at our <a href="https://microsoft.benevity.org/campaigns/93098" target="_blank">Benevity page</a>. Suggested amount: $25.</p>
      </div>
    </template>

  </body>
</html>