<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="UTF-8" />
    <script> var exports = {}; </script>
    <script src="../js/kit25.js" />
    <script src="V/gdn.js" />
    <script>
      const boiler = {
        safaris: puzzleSafari22,
        safari: 'ps22',
        title: 'Gardens',
        author: 'David Garber',
        orientation: 'landscape',
        copyright: '2022',
        abilities: {
          textInput: 'nearest',
          scratchPad: true,
          stamping: true,
        },
        reactiveBuilder: 'pageBody',
        lookup: {
          plots: [  // Each row has a list of shapes (the key), mapped to [value, x-offset]
            [{q:[2, 18]}],
            [{r:[1, 1]}, {d:[2, 3]}, {p:[3, 6]}, {d:[2, 8]}, {q:[1, 10]}, {q:[2, 17]}],
            [{r:[2, 2]}, {q:[1.1, 4]}, {r:[1.1, 7]}, {q:[2, 9]}, {q:[0.1, 15]}, {d:[2, 19]}, {b:[1, 21]}],
            [{q:[2, 0]}, {r:[3, 3]}, {q:[3, 8]}, {d:[0, 12]}, {b:[0, 14]}, {b:[1.2, 17]}, {q:[2.1, 19]}, {r:[0.1, 21]}, {q:[0, 27]}, {r:[1.1, 29]}, {r:[2.1, 32]}, {q:[2, 34]}],
            [{r:[2, 4]}, {q:[3, 7]}, {b:[2, 11]}, {r:[0.1, 13]}, {q:[0, 15]}, {r:[1.1, 17]}, {b:[1.1, 23]}, {d:[1.1, 25]}, {d:[2, 30]}, {q:[3.1, 33]}],
            [{d:[2, 1]}, {d:[1.2, 5]}, {b:[2, 10]}, {q:[1, 14]}, {d:[1, 18]}, {r:[3, 20]}, {b:[2, 22]}, {d:[2, 26]}, {q:[3.1, 28]}, {q:[2.2, 30]}, {r:[3.3, 32]} ],
            [{q:[2, 1]}, {b:[2.1, 3]}, {d:[1, 6]}, {d:[3, 8]}, {r:[2, 10]}, {b:[3, 12]}, {g:[2.2, 16]}, {q:[2, 18]}, {q:[1, 21]}, {d:[2, 23]}, {b:[2, 25]}, {r:[1.1, 27]}, {d:[2, 34]}],
            [{b:[1.2, 0]}, {d:[2, 4]}, {q:[2.1, 8]}, {r:[4, 11]}, {d:[2, 13]}, {q:[2, 15]}, {q:[2.1, 20]}, {q:[2.2, 23]}, {r:[3.1, 25]}, {q:[3, 28]}, {b:[3, 30]}, {d:[2.2, 32]}, {q:[1, 35]} ],
            [{q:[1.1, 0]}, {b:[2, 3]}, {d:[1, 5]}, {b:[1.1, 7]}, {r:[3, 12]}, {q:[3, 14]}, {b:[3, 18]}, {r:[1, 22]}, {r:[2, 27]}, {r:[2.1, 30]}, {d:[2, 33]}],
            [{b:[1, 2]}, {r:[0, 5]}, {d:[1, 9]}, {q:[3.1, 13]}, {r:[3.1, 16]}, {b:[2.1, 20]}, {r:[3, 23]}, {d:[1.1, 25]}, {q:[2, 28]}, {b:[3.2, 32]}, {d:[1.1, 34]}],
            [{r:[1, 1]}, {d:[1, 3]}, {d:[0, 6]}, {b:[1, 8]}, {d:[3, 10]}, {d:[2.1, 17]}, {b:[2, 19]}, {r:[1.1, 21]}, {q:[2, 24]}, {r:[2, 26]}, {b:[3, 31]}, {r:[1, 34]}],
            [{q:[0, 6]}, {q:[2, 9]}, {d:[2.1, 11]}, {b:[3.3, 13]}, {b:[2.2, 15]}, {r:[3.1, 17]}, {q:[1.1, 19]}, {r:[1.1, 23]}, {b:[1, 28]}, {b:[2, 30]}, {d:[2, 32]}, {i:[1, 34.5]}],
            [{b:[0, 8]}, {r:[3, 11]}, {q:[2.2, 13]}, {q:[3, 15]}, {q:[0, 18]}, {d:[2, 21]}, {d:[1.1, 26]}, {r:[1.1, 28]}, {r:[1.1, 30]}],
            [{q:[2, 9]}, {r:[3, 12]}, {r:[2, 17]}, {r:[1, 20]}, {d:[3.2, 23]}, {b:[3.2, 25]}, {d:[1.1, 31]}],
            [{b:[0.1, 8]}, {d:[3, 14]}, {r:[1, 18]}, {d:[1.1, 21]}, {q:[2, 23]}, {r:[2, 25]}, {b:[1, 27]}, {b:[1, 29]}],
            [{d:[1, 10]}, {d:[1.1, 12]}, {b:[1, 16]}],
            [{b:[1, 9]}, {q:[1, 11]}, {d:[0, 13]}, {b:[1, 15]}]
          ]
        },
      };

    </script>
    <style>
      #Local {
        path {
          stroke: black;
          stroke-width: 1px;
          fill: white;
        }
        path.plants {
          fill: #6f6;
        }
        path.gravel {
          fill: #999;
        }
        text {
          text-anchor: middle;
          fill: black;

          user-select: none;
          -moz-user-select: -moz-none;
          -khtml-user-select: none;
          -webkit-user-select: none;
          -o-user-select: none;
        }

        #stampPalette {

        }
      }

    </style>
  </head>
  <body id="Local">

    <div id="pageBody">
      <p class="flavor">
        The gardeners at a local farm have been concocting some fun for this fall.
        Theyâ€™ve already divided up the property into discreet planting beds.
        But then they lost the plans.
        Luckily, in each bed, they wrote down how many adjacent beds should be planted.
        A nearby bed touching only by the corner counts as one tenth adjacent.
        All unplanted beds are left open as paths.
      </p>

      <svg width="960" height="480">
        <for each="row" in="{plots}">
          <for each="cell" in="{row}">
            <for key="key" in="{cell}">
              <use template="plot" shape="{key}" val="{key!.0}" x="{key!.1}" y="{row#}" />
            </for>
          </for>
        </for>
      </svg>


      <div id="stampPalette" data-unstyle="plants gravel" data-tool-erase="clear">
        <div class="stampTool" id="plants" data-style="plants" style="text-align: center; background-color: #66ff6666;" title="plants">
          <img ssrc="Gardens/plant.png" style="height:100%;"/>  
        </div>
        <div class="stampTool" id="gravel" data-style="gravel" style="text-align: center; background-color: #99999966;" title="plants">
          <img ssrc="Gardens/gravel.png" style="height:100%;"/>  
        </div>
        <div class="stampTool" id="clear" style="text-align: center;" title="clear">
          <img ssrc="../Images/Stamps/eraser.png" style="height:100%;"/>  
        </div>
      </div>

      <use template='finalAnswer' left="2.5in" width="3in" />
    </div>

    <template id="plot">
      <g transform="translate({48+x*24},{48+y*24})">
        <use template="{shape}" />
        <text x="0" y="-7">{val}</text>
      </g>
    </template>

    <template id="d">
      <path d="M0,0 h-24 v-24 h24 v-24 h24 v48 Z" class="stampable" />
    </template>
    <template id="b">
      <path d="M0,0 h-24 v-48 h24 v24 h24 v24 Z" class="stampable" />
    </template>
    <template id="q">
      <path d="M0,0 h-24 v-24 h48 v48 h-24 Z" class="stampable" />
    </template>
    <template id="r">
      <path d="M0,0 h24 v-24 h-48 v48 h24 Z" class="stampable" />
    </template>
    <template id="p">
      <path d="M0,0 h24 v-24 h-48 v72 h24 Z" class="stampable" />
    </template>
    <template id="g">
      <path d="M0,0 h-24 v-24 h48 v72 h-24 Z" class="stampable" />
    </template>
    <template id="i">
      <path d="M0,0 h-12 v-24 h24 v24 Z" class="stampable" />
    </template>

  </body>
</html>
