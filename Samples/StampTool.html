<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"></meta>
    <script> var exports = {}; </script>
    <script src="../js/kit.js"></script>
    <script>
      const boiler = {
        'safari': 'Sample',
        'title': 'Stamp Tools',
        'author': 'David Garber',
        'copyright': '2023',
        'type': 'Logic',
        'abilities': {
          'stamping': true
        }
      };
    </script>
    <style>
      td {
        border: solid 1px black;
        width: 1in;
        height: 1in;
        text-align: center;

        -moz-user-select: -moz-none;
        -khtml-user-select: none;
        -webkit-user-select: none;
        -o-user-select: none;
        user-select: none;
      }
      .stampedObject {
        width:100%;
        height:100%;
        position: relative;
      }
      .xo {
        position: absolute;        
        font-size: 50pt;
        left:0px;
        top:0px;
      }
      #svg .xo {
        font-size: 32pt;
      }
    </style>
  </head>
  <body>
    <div id="pageBody">
      <p class="flavor">
        Tic-tac-toe via stamping!
      </p>

      <table id="grid">
        <tr>
          <td class="stampable"></td>
          <td class="stampable"></td>
          <td class="stampable"></td>
          <td rowspan="3">
            <svg id="svg" width="300" height="300" style="fill:transparent; stroke:black; stroke-width:1px;">
              <foreignObject id="fo-1" x="20" y="20" width="60" height="60"></foreignObject>
              <foreignObject id="fo-2" x="120" y="120" width="60" height="60"></foreignObject>

              <ellipse cx="50" cy="50" rx="40" ry="40" class="stampable"data-stamp-parent="fo-1" ></ellipse>
              <path d="M110,110 h70 l10,10 v60 l-10,10 h-60 l-10,-10 Z" class="stampable"data-stamp-parent="fo-2" ></path>
            </svg>
          </td>
        </tr>
        <tr>
          <td class="stampable"></td>
          <td class="stampable"></td>
          <td class="stampable"></td>
        </tr>
        <tr>
          <td class="stampable"></td>
          <td class="stampable"></td>
          <td class="stampable"></td>
        </tr>
      </table>

      <div id="stampPalette" data-tool-count="3" data-tool-erase="drawErase" style="position: absolute; right:2.5in; top: 5in;">
        <p style="text-align: center; margin:4px;">&#x2712;&#xfe0f; Stamp tools:</p>
        <div class="stampTool" data-template-id="drawX" data-click-modifier="ctrl" title="ctrl + draw" style="display:inline-block; ">
          <div style="background-color: gold;">
            <span class="label" style="position:relative;top:0.15in;">‚ò†Ô∏è</span>
          </div>
        </div>
        <div class="stampTool" data-template-id="drawO" data-click-modifier="shift" title="shift + draw" style="display:inline-block;">
          <div style="background-color: palevioletred;">
            <span class="label" style="position:relative;top:0.15in;">üç©</span>
          </div>
        </div>
        <div class="stampTool" data-template-id="drawErase" data-click-modifier="shift" title="shift + draw" style="display:inline-block;">
          <div style="background-color: #eee;">
            <span class="label" style="position:relative;top:0.15in;">erase</span>
          </div>
        </div>
      </div>
      <div class="stampToolTemplates" id="drawTool1">
        <template id="drawX">
          <div class="stampedObject" style="background-color: gold;" data-template-id="drawX" data-next-template-id="drawO">
            <span class="xo">‚ò†Ô∏è</span>
          </div>
        </template>
        <template id="drawO">
          <div class="stampedObject" style="background-color: palevioletred;" data-template-id="drawO" data-next-template-id="drawErase">
            <span class="xo">üç©</span>
          </div>
        </template>
      </div>  

    </div>
  </body>
</html>
