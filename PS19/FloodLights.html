<html>
  <head>
    <meta charset="UTF-8"></meta>
    <title>Flood Lights</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Overpass&display=swap" rel="stylesheet">
    <link href="Kit/PageSizes.css" rel="Stylesheet" type="text/css"></link>
    <link href="Kit/PuzzleParts.css" rel="Stylesheet" type="text/css"></link>
    <link href="Kit/TextInput.css" rel="Stylesheet" type="text/css"></link>
    <link href="Kit/DrawTools.css" rel="Stylesheet" type="text/css"></link>

    <script src="Kit/ClassUtils.js"></script>
    <script src="Kit/Storage.js"></script>
    <script src="Kit/Notes.js"></script>
    <script src="Kit/TextSetup.js"></script>
    <script src="Kit/TextInput.js"></script>
    <script src="Kit/DrawTools.js"></script>
  </head>
  <style>
    .flavor {
      font-style: italic;
    }

    #table {
      border-collapse: collapse;
      margin-left: 1in;;
    }
    #table th, td {
      font-size: 18pt;
      font-weight: normal;
      text-align: center;
      vertical-align: middle;
      padding: 10px;
      width: 30px;
      border: solid 1px black;

      -moz-user-select: -moz-none;
      -khtml-user-select: none;
      -webkit-user-select: none;
      -o-user-select: none;
      user-select: none;
    }
    th {
      background-color: black;
      color: white;
    }

    #drawPalette {
      position: absolute;
      top: 8.75in;
      left: 2.5in;
    }
    #drawPalette p {
      margin: 0px;
      text-align: center;
      border-bottom: solid 1px gray;
    }
    td.drawLightBulb {
      background-color: #ffff0066;
      animation-name: light-bulb-fade;
      animation-duration: 1s;
    }
    td.drawBlank {
      background-color: #ff000033;
      animation-name: blank-fade;
      animation-duration: 1s;
    }
    .drawTool .label {
      font-size: 10pt;
    }
    @keyframes light-bulb-fade {
      from {
          background-color: #ffff00cc;
      }
      to {
        background-color: #ffff0066;
      }
    }
    @keyframes blank-fade {
      from {
          background-color: #ff0000cc;
      }
      to {
        background-color: #ff000033;
      }
    }
  </style>
  <body class="letter portrait" onload="drawSetup()">
    <div id="page" class="printedPage">  <!--Printable paper-->
      <div class="pageWithinMargins">
        <div id="title">
          Flood Lights
        </div>
        <div id="icons">
          <img src="Icons/Logic.png">
        </div>
        <div id="copyright">
            &copy;2019 Martyn Lovell
        </div>
        <a id="backlink" target="_blank" href="safari.html">Puzzle list</a>
        <img id="qr" src="QR/FloodLights.png">

        <div id="pageBody">
          <div class="flavor">
            <p>Our building site lighting has recently been regulated under the so-called “General Deployment of Perpetual Radiance” laws. As a result, we must make sure that every inch of our site is illuminated.</p>
            <p>This puzzle is an Akari (aka “Light up”). Your goal is to place lightbulbs in the grid following a set of rules:</p>
            <ul>
              <li>You must place light bulbs at places within the grid. They may go in any white square. You may place as many light bulbs as you wish</li>
              <li>Every bulb shines horizontally and vertically, stopping at any black square or edge. No diagonals.</li>
              <li>Black squares with a number must have exactly that many bulbs next to them (vertically or horizontally)</li>
              <li>Light bulbs may be placed in locations that are not adjacent to a black square</li>
              <li>Every white square <b>must</b> be lit</li>
              <li>A light bulb must not shine directly onto another bulb</li>
              <li>Ignore the letters until after you have placed all the bulbs. Then you will need to read them.</li>
            </ul>
          </div>

          <table id="table">
            <tr>
              <td class="drawable">F</td>
              <td class="drawable">R</td>
              <th>2</th>
              <td class="drawable">O</td>
              <td class="drawable">G</td>
              <td class="drawable">S</td>
              <td class="drawable">D</td>
              <td class="drawable">N</td>
              <td class="drawable">A</td>
              <td class="drawable">A</td>
            </tr>
            <tr>
              <td class="drawable">L</td>
              <th>2</th>
              <th>&nbsp;</th>
              <td class="drawable">L</td>
              <td class="drawable">L</td>
              <td class="drawable">O</td>
              <td class="drawable">O</td>
              <td class="drawable">K</td>
              <th>&nbsp;</th>
              <td class="drawable">S</td>
            </tr>
            <tr>
              <td class="drawable">U</td>
              <td class="drawable">N</td>
              <td class="drawable">I</td>
              <td class="drawable">Q</td>
              <th>0</th>
              <td class="drawable">U</td>
              <th>3</th>
              <td class="drawable">E</td>
              <th>&nbsp;</th>
              <th>&nbsp;</th>
            </tr>
            <tr>
              <td class="drawable">M</td>
              <td class="drawable">N</td>
              <th>&nbsp;</th>
              <td class="drawable">E</td>
              <td class="drawable">M</td>
              <td class="drawable">O</td>
              <td class="drawable">N</td>
              <td class="drawable">I</td>
              <td class="drawable">C</td>
              <td class="drawable">F</td>
            </tr>
            <tr>
              <td class="drawable">R</td>
              <td class="drawable">U</td>
              <td class="drawable">I</td>
              <td class="drawable">T</td>
              <td class="drawable">Y</td>
              <td class="drawable">P</td>
              <td class="drawable">U</td>
              <th>1</th>
              <td class="drawable">T</td>
              <td class="drawable">R</td>
            </tr>
            <tr>
              <td class="drawable">I</td>
              <td class="drawable">D</td>
              <th>&nbsp;</th>
              <td class="drawable">S</td>
              <td class="drawable">M</td>
              <td class="drawable">E</td>
              <td class="drawable">L</td>
              <td class="drawable">L</td>
              <td class="drawable">B</td>
              <td class="drawable">U</td>
            </tr>
            <tr>
              <td class="drawable">T</td>
              <td class="drawable">F</td>
              <td class="drawable">L</td>
              <td class="drawable">E</td>
              <td class="drawable">X</td>
              <td class="drawable">P</td>
              <td class="drawable">R</td>
              <th>&nbsp;</th>
              <td class="drawable">E</td>
              <td class="drawable">D</td>
            </tr>
            <tr>
              <th>2</th>
              <th>&nbsp;</th>
              <td class="drawable">N</td>
              <th>2</th>
              <td class="drawable">I</td>
              <th>0</th>
              <td class="drawable">S</td>
              <td class="drawable">O</td>
              <td class="drawable">N</td>
              <td class="drawable">E</td>
            </tr>
            <tr>
              <td class="drawable">A</td>
              <th>&nbsp;</th>
              <td class="drawable">B</td>
              <td class="drawable">U</td>
              <td class="drawable">N</td>
              <td class="drawable">D</td>
              <td class="drawable">A</td>
              <th>&nbsp;</th>
              <th>3</th>
              <td class="drawable">N</td>
            </tr>
            <tr>
              <td class="drawable">C</td>
              <td class="drawable">E</td>
              <td class="drawable">A</td>
              <td class="drawable">M</td>
              <td class="drawable">A</td>
              <td class="drawable">S</td>
              <td class="drawable">S</td>
              <th>&nbsp;</th>
              <td class="drawable">E</td>
              <td class="drawable">S</td>
            </tr>
          </table>

          <div class="flavor">
            <p>Once you have inserted all the light bulbs, you are almost done.</p>
            <p>Extract the letters from every square where two light rays <b>do not</b> cross.
              Do not use any squares containing light bulbs.
              These letters will be the 3-word, 20-letter final answer.</p>
          </div>

          <div id="drawPalette" data-tool-count="3" data-tool-erase="drawErase">
            <p>&#x2712;&#xfe0f; Draw tools:</p>
            <div class="drawTool" data-template-id="drawLightBulb" data-click-modifier="ctrl" title="ctrl + draw">
              <div style="background-color: #ffff0066;">
                <span class="emoji">&#x1f4a1;</span>
                <span class="label">Light Bulb</span>
              </div>
            </div>
            <div class="drawTool" data-template-id="drawBlank" data-click-modifier="shift" title="shift + draw">
              <div style="background-color: #ff000033;">
                <span class="emoji">&#x26A1;</span>
                <span class="label">Lit</span>
              </div>
            </div>
            <div class="drawTool" data-template-id="drawErase" data-click-modifier="alt" title="alt + draw">
              <div style="background-color: #00000011;">
                <span class="emoji" style="color: transparent;">&#x1f3d7;</span>
                <span class="label">Erase</span>
              </div>
            </div>
          </div>
          <div class="drawToolTemplates" id="drawTool1">
            <template id="drawLightBulb">
              <div class="drawnObject" style="width: 100%; height: 100%; position: relative;" data-template-id="drawLightBulb" data-next-template-id="drawBlank">
                <span style="position: absolute; left: -6px; bottom: -6px; font-size:8pt;">&#x1f4a1;</span>
              </div>
            </template>
            <template id="drawBlank">
              <div class="drawnObject" style="width: 100%; height: 100%; position: relative;" data-template-id="drawBlank" data-next-template-id="drawErase">
                <span style="position: absolute; left: -6px; bottom: -6px; font-size:8pt;">&#x26A1;</span>
              </div>
            </template>
          </div>  

        </div>

      </div>
    </div>  
  </body>
</html>
